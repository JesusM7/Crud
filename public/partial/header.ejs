<style>
    .header {
        display: flex;
        justify-content: flex-end;
        width: 100%;
        height: 5vh;
        align-items: center;
        gap: 2.5ch;
        padding-top: 2ch;
    }

    #avatar-image {
        object-fit: fill;
        width: 32px;
        height: 32px;
        border-radius: 25px;
    }

    #avatar-image:hover {
        cursor: pointer;
    }

    #dropdown {
        width: 100px;
        height: 0px;
        position: absolute;
        background-color: #fff;
        right: 25px;
        overflow: hidden;
        border-radius: 8px;
    }
    .li-user {
        cursor: pointer;
    }
</style>

<header class="header">
    <div id="user-info"></div>
    <div id="dropdown-container">
        <img onclick="showDropdown()" width="50px" height="50px" id="avatar-image">
        <div id="dropdown">
            <ul style="list-style: none;">
                <li onclick="logout()" class="li-user">Salir</li>
            </ul>
        </div>
    </div>

</header>

<script>
    window.onload = function () {

        if (!localStorage.getItem("name")) {
            window.location.href = '/login'
        }

        const name = localStorage.getItem("name") || "";
        document.querySelector("#user-info").innerHTML = name;
        document.querySelector("#avatar-image").src = `https://ui-avatars.com/api/?name=${name}`;
    }
    function showDropdown() {
        if (document.querySelector("#dropdown").clientHeight > 0) {
            document.querySelector("#dropdown").style.height = '0px';
        } else {
            document.querySelector("#dropdown").style.height = 'auto';
        }
    }
    function logout() {
        localStorage.clear();
        window.location.href = '/login';
    }
</script>